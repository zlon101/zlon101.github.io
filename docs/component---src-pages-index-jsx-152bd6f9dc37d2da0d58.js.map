{"version":3,"sources":["webpack:///./src/pages/index.jsx"],"names":["prefix","createCls","HomePage","articles","data","allMarkdownRemark","nodes","sort","a","b","DateUtil","parent","mtime","className","style","padding","marginBottom","map","node","key","id","to","fields","articlePath","name","excerpt"],"mappings":"kMAQMA,G,oBAASC,YAAU,cA2DVC,UAzDE,SAAC,GAAc,IAC1BC,EADyB,EAAXC,KACEC,kBAAkBC,MAItC,OAHAH,EAAWA,EAASI,MAAK,SAACC,EAAGC,GAAJ,OACvBC,IAASH,KAAKC,EAAEG,OAAOC,MAAOH,EAAEE,OAAOC,MAAO,WAG9C,kBAAC,IAAD,CAAQC,UAAS,QAAUb,EAAO,SAChC,yBAAKc,MAAO,CAACC,QAAS,gBACpB,wBAAID,MAAO,CAACE,aAAa,SAAzB,QACCb,EAASc,KAAI,SAAAC,GAAI,OAChB,6BAASL,UAAWb,EAAO,WAAYmB,IAAKD,EAAKE,IAC/C,yBAAKP,UAAWb,EAAO,mBACrB,kBAAC,IAAD,CACEa,UAAWb,EAAO,wBAClBqB,GAAIH,EAAKI,OAAOC,aAEfL,EAAKP,OAAOa,OAOjB,uBAAGX,UAAWb,EAAO,iBAAkBkB,EAAKO,iB","file":"component---src-pages-index-jsx-152bd6f9dc37d2da0d58.js","sourcesContent":["// 主页\nimport React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport Layout from '@cmp/layout';\nimport { DateUtil, createCls } from '@/util';\nimport '@style/global.less';\nimport '@style/home.less';\n\nconst prefix = createCls('page-home');\n\nconst HomePage = ({ data }) => {\n  let articles = data.allMarkdownRemark.nodes;\n  articles = articles.sort((a, b) =>\n    DateUtil.sort(a.parent.mtime, b.parent.mtime, 'desc')\n  );\n  return (\n    <Layout className={`page ${prefix('wrap')}`}>\n      <div style={{padding: '16px 24px 0'}}>\n        <h2 style={{marginBottom:'24px'}}>最近修改</h2>\n        {articles.map(node => (\n          <section className={prefix('excerpt')} key={node.id}>\n            <div className={prefix('excerpt-header')}>\n              <Link\n                className={prefix('excerpt-header-title')}\n                to={node.fields.articlePath}\n              >\n                {node.parent.name}\n              </Link>\n              {/* <span className={prefix('excerpt-header-desc')}>\n                {DateUtil.dataToLocaleString(node.parent.mtime)}\n              </span> */}\n            </div>\n            {/* dangerouslySetInnerHTML={{__html: node.excerpt}} */}\n            <p className={prefix('excerpt-text')}>{node.excerpt}</p>\n          </section>\n        ))}\n      </div>\n    </Layout>\n  );\n};\n/**\n * 使用graphql读取目录下的文件,传递给HomePage的data参数\n * filter: { frontmatter: { hide: { eq: false } } }\n */\nexport const pageQuery = graphql`\n  query IndexQuery {\n    allMarkdownRemark(\n      limit: 20\n      filter: { frontmatter: { hide: { ne: true } } }\n    ) {\n      nodes {\n        id\n        fields {\n          articlePath\n        }\n        excerpt(format: PLAIN)\n        parent {\n          ... on File {\n            name\n            mtime(formatString: \"YYYY/MM/DD hh:mm\")\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default HomePage;\n"],"sourceRoot":""}