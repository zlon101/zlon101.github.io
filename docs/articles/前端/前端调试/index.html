<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f49b86836266c4bcc212.css" id="gatsby-global-css">@-webkit-keyframes silde{0%{background-color:green}50%{background-color:#00f}to{background-color:red}}@keyframes silde{0%{background-color:green}50%{background-color:#00f}to{background-color:red}}.p-debug{outline:1px solid red;width:70vw;padding:16px;margin:40px auto 0;overflow:auto;position:relative}.p-debug .animation{width:200px;height:200px;background-color:red}.p-debug .animation.active{-webkit-animation:silde 10s infinite;animation:silde 10s infinite}.c-header{height:48px;width:100%;display:flex;padding:8px 16px;position:fixed;align-items:center;left:0;top:0;border-bottom:2px solid #eaecef;background-color:#fff;z-index:1000}.c-header>*{margin-right:18px;cursor:pointer;font-weight:600;font-size:18px}.c-header>:last-child{margin-left:auto;margin-right:0}.c-nav{max-width:300px;min-height:calc(100vh - 48px);padding:16px 16px 16px 0;overflow:auto;position:sticky;top:48px}.c-nav .file-item{display:block;margin:8px 0;white-space:nowrap}.c-nav .file-item.fold>.file-name:after{content:"";display:inline-block;width:0;height:0;margin-left:8px;border-color:transparent transparent transparent #ccc;border-style:solid;border-width:6px 0 6px 9px;transition:all .2s ease-out}.c-nav .file-item.fold.expand>.file-name:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.c-nav .file-item.fold.expand>.child-list{display:block}.c-nav .file-name{margin-bottom:12px;padding-left:16px;color:#2c3e50;font-size:18px;font-weight:700;display:block;position:relative;cursor:pointer;border-left:4px solid transparent}.c-nav .file-name.light{color:#3eaf7c;font-size:20px}.c-nav .child-list{padding-left:16px;margin:0;display:none;transition:all .2s ease-out}.c-layout-sidebar-content{position:relative;display:flex}.c-layout-sidebar-content .article-wrap{flex:1 1 auto}.c-layout-nav{border-right:2px solid #eaecef}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}*{margin:0;padding:0;outline:0;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,html{font-family:Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}p{line-height:1.5}a{text-decoration:none;color:#2c3e50}a:hover{text-decoration:underline}.page{padding-top:48px}.g-desc{color:#7f8fa4;font-size:14px}.icon-arrow{width:0;height:0;border-color:transparent transparent transparent #00f;border-style:solid;border-width:44.5px 0 44.5px 118px}.icon-font{vertical-align:-.15em;fill:currentColor;overflow:hidden}.page-home-excerpt{margin-bottom:24px;padding:16px;border:1px solid transparent;border-radius:6px;background-color:#9cc}.page-home-excerpt-header{margin-bottom:4px}.page-home-excerpt-header-title{font-size:18px;font-weight:700}.page-home-excerpt-header-desc{margin-left:8px;color:#7f8fa4;font-size:14px}.page-home-excerpt-text{font-size:16px}.page-article-template .article-title-wrap{min-width:10%;border-left:2px solid #eaecef}.page-article-template .article-title-list{padding:16px;position:sticky;top:48px}.page-article-template .article-title-list li{margin-bottom:12px;list-style:none;cursor:pointer}.page-article-template .article-title-list li:hover{color:#3eaf7c;text-decoration:underline}.article-wrap{padding:0 32px 0 64px}.article-wrap h1{font-size:16px}.article-wrap h2,.article-wrap h3,.article-wrap h4,.article-wrap h5,.article-wrap h6{font-size:18px;margin:16px 0}.article-wrap h2:before,.article-wrap h3:before,.article-wrap h4:before,.article-wrap h5:before,.article-wrap h6:before{content:"#";color:#00f}.article-wrap div,.article-wrap p{margin:8px 0}.article-wrap a{color:#0969da}.article-wrap>:not(ul){margin-left:-14px}.article-wrap li{margin:8px 0}.article-wrap li ol,.article-wrap li ul,.article-wrap ol{margin-left:12px}.article-wrap blockquote{padding-left:1.5em;color:#57606a;border-left:.25em solid #d0d7de;background-color:#e0ffd4}.article-wrap code{padding:3px 5px;margin:0 2px;border-radius:2px;white-space:nowrap;color:#5b5b66;background-color:#f0f0f4}.article-wrap img{box-shadow:0 0 80px -30px rgba(0,0,0,.5)!important}.article-wrap table{border-collapse:collapse;border-spacing:0}.article-wrap table td,.article-wrap table th{color:#fff;text-align:left;padding:8px 16px;background-color:#1f2329;border-right:1px solid rgba(220,223,230,.3);border-bottom:1px solid rgba(220,223,230,.3)}</style><meta name="generator" content="Gatsby 2.32.13"/><link as="script" rel="preload" href="/webpack-runtime-6a5192b07655d546f5f4.js"/><link as="script" rel="preload" href="/framework-671e2a16129b80fb7370.js"/><link as="script" rel="preload" href="/app-f4e8fefb92197832af63.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-228a601f2161ab8981c0.js"/><link as="fetch" rel="preload" href="/page-data/articles/前端/前端调试/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3957182205.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="c-layout-wrap  page page-article-template"><header class="c-header"><a href="/">首页</a><a href="/">博客</a><a href="https://zlong1010.github.io/vue-components/#/" target="_blank" rel="noreferrer noopener">vue组件指令</a><a href="/debug/">Debug</a><a href="https://github.com/zlong1010" target="_blank" rel="noreferrer noopener"><svg class="icon-font" width="24px" height="24px" aria-hidden="true"><use href="#icon-font-github1"></use></svg></a></header><div class="c-layout-sidebar-content "><div class="c-layout-nav "><div class="c-nav"><div class="file-item fold false"><div class="file-name" role="button">网络基础</div><ul class="child-list"><a class="file-name false" href="/articles/网络基础/HTTP/">HTTP</a><a class="file-name false" href="/articles/网络基础/代理-nginx/">代理-nginx</a><a class="file-name false" href="/articles/网络基础/服务端/">服务端</a><a class="file-name false" href="/articles/网络基础/网络基础/">网络基础</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">前端</div><ul class="child-list"><a class="file-name false" href="/articles/前端/webView/">webView</a><a class="file-name false" href="/articles/前端/前端调试/">前端调试</a><a class="file-name false" href="/articles/前端/前端资源整理/">前端资源整理</a><a class="file-name false" href="/articles/前端/浏览器/">浏览器</a><a class="file-name false" href="/articles/前端/练题/">练题</a><a class="file-name false" href="/articles/前端/总结/">总结</a><a class="file-name false" href="/articles/前端/规范/">规范</a><a class="file-name false" href="/articles/前端/设计模式/">设计模式</a><div class="file-item fold false"><div class="file-name" role="button">前端工程化</div><ul class="child-list"><a class="file-name false" href="/articles/前端/前端工程化/Babel/">Babel</a><a class="file-name false" href="/articles/前端/前端工程化/Webpack/">Webpack</a><a class="file-name false" href="/articles/前端/前端工程化/Gulp/">Gulp</a><a class="file-name false" href="/articles/前端/前端工程化/部署/">部署</a><a class="file-name false" href="/articles/前端/前端工程化/npm/">npm</a><a class="file-name false" href="/articles/前端/前端工程化/模块化/">模块化</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">Node</div><ul class="child-list"><a class="file-name false" href="/articles/前端/Node/客户端-服务端/">客户端-服务端</a><a class="file-name false" href="/articles/前端/Node/服务端编程/">服务端编程</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">JS</div><ul class="child-list"><a class="file-name false" href="/articles/前端/JS/Ajax请求/">Ajax请求</a><a class="file-name false" href="/articles/前端/JS/ES6/">ES6</a><a class="file-name false" href="/articles/前端/JS/总结/">总结</a><a class="file-name false" href="/articles/前端/JS/模块/">模块</a><a class="file-name false" href="/articles/前端/JS/JS基础/">JS基础</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">HTML-CSS</div><ul class="child-list"><a class="file-name false" href="/articles/前端/HTML-CSS/CSS基础/">CSS基础</a><a class="file-name false" href="/articles/前端/HTML-CSS/HTML基础/">HTML基础</a><a class="file-name false" href="/articles/前端/HTML-CSS/总结/">总结</a></ul></div></ul></div><div class="file-item fold false"><div class="file-name" role="button">数据结构与算法</div><ul class="child-list"><a class="file-name false" href="/articles/数据结构与算法/数据结构基础/">数据结构基础</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">Vue</div><ul class="child-list"><a class="file-name false" href="/articles/Vue/Nuxt/">Nuxt</a><a class="file-name false" href="/articles/Vue/PWA/">PWA</a><a class="file-name false" href="/articles/Vue/Vue原码解读/">Vue原码解读</a><a class="file-name false" href="/articles/Vue/Vue视频资料/">Vue视频资料</a><a class="file-name false" href="/articles/Vue/vue基础概念/">vue基础概念</a><a class="file-name false" href="/articles/Vue/Vue技术栈/">Vue技术栈</a><a class="file-name false" href="/articles/Vue/总结/">总结</a></ul></div><div class="file-item fold false"><div class="file-name" role="button">React</div><ul class="child-list"><a class="file-name false" href="/articles/React/React总结/">React总结</a><a class="file-name false" href="/articles/React/React基础/">React基础</a><a class="file-name false" href="/articles/React/React技术栈/">React技术栈</a><a class="file-name false" href="/articles/React/TODO/">TODO</a></ul></div><a class="file-name false" href="/articles/Gatsby建站/">Gatsby建站</a><a class="file-name false" href="/articles/Linux命令/">Linux命令</a><a class="file-name false" href="/articles/TS基础/">TS基础</a><a class="file-name false" href="/articles/Git/">Git</a><a class="file-name false" href="/articles/图标/">图标</a><a class="file-name false" href="/articles/微前端/">微前端</a></div></div><article class="article-wrap"><h4 id="t-0" >Chrome开发者工具</h4>
<p>调试面板说明 Style 面板中，优先级越高的规则，排列越靠前 Style 面板中：</p>
<ul>
<li>通过层叠规则被覆盖的 CSS 规则，使用<strong>删除线</strong>文本显示；</li>
<li><strong>灰色</strong>条目是未定义的规则，在运行时被计算样式取代了，不是继承的 Style  (注：可以理解为无效的样式规则)；</li>
<li>computed 面板中灰色的 CSS 属性表示该属性未在 Style 面板中定义(包括默认的属性)；</li>
<li><a href="chrome://inspect/#devices">Chrome 移动端调试地址</a> </li>
</ul>
<hr>
<h4 id="t-1" ><a href="https://mp.weixin.qq.com/s/kaPGHiGI-ljPJQ5pqxE-5A">H5 移动调试全攻略</a></h4>
<p>1.<code>Safari</code>：<code>iPhone</code> 调试利器，查错改样式首选；
2.<code>iOS</code> 模拟器：不需要真机，适合调试 <code>Webview</code> 和 <code>H5</code> 有频繁交互的功能页面；
3.<code>Charles</code>： <code>Mac OS</code> 系统首选的抓包工具，适合查看、控制网络请求，分析数据情况；
4.<code>Fiddler</code>：适合 <code>Windows</code> 平台，与 <code>Charles</code> 类似，查看、控制网络请求，分析数据情况；
5.<code>Spy-Debugger</code>：移动端调试的利器，便捷的远程调试手机页面、抓包工具；
6.<code>Whistle</code>：基于 <code>Node</code> 实现的跨平台 <code>Web</code> 调试代理工具；
7.<code>Chrome Remote Devices</code>：依赖 <code>Chrome</code> 来进行远程调试，适合安卓手机远程调试静态页；
8.<code>localhost</code> 转 <code>ip</code>：真机调试，适合远程调试静态页面；
9.<code>vConsole</code>：内置于项目，打印移动端日志，查看网络请求以及查看 <code>Cookie</code> 和 <code>Storage</code>；</p>
<h4 id="t-2" >代理调试</h4>
<ul>
<li><a href="https://youzan.github.io/zan-proxy/">zan-proxy</a>  </li>
</ul>
<h4 id="t-3" ><a href="https://mp.weixin.qq.com/s/GIVylU3poibE-vIg6sLy9w">移动端真机调试</a></h4>
<ul>
<li>chrome inspect应用场景有限。</li>
<li>weinre调试</li>
<li>spy-debugger调试</li>
</ul>
<h4 id="t-4" >Chrome 调试</h4>
<ul>
<li>
<p>console输出支持4种占位符：<code>%o d s f c</code>-->对应4种类型的数据：对象、整数、字符串、浮点数和css样式</p>
<p>如：<code>console.log('对象：%o, %c整数：%d', {name:'czl'}, 'color: yellow', 23);</code>
<code>%c</code> 之后的文本使用指定的css样式输出；</p>
</li>
<li><code>console.group()</code> 和 <code>console.groupEnd()</code> 开启和关闭输出块；</li>
<li>
<p>清除指定代码位置之前的console并且屏蔽之后的console</p>
<ul>
<li>清除控制台之后的console.log、warn等输出：console.clear();</li>
<li>屏蔽console.log：console.log = ()=>{}</li>
</ul>
</li>
<li>
<p>chrome控制台中选中DOM元素</p>
<ul>
<li>$('tagName') $('.class') $('#id') and $('.class #id') 等效于document.querySelector('')，返回与指定的CSS选择器相匹配的第一个元素；</li>
<li>$$('selector')：等效于document.querySelectorAll()，返回与指定的CSS选择器相匹配的所有元素的数组；</li>
<li>$0：</li>
</ul>
</li>
<li>
<p>查看某个DOM元素的事件监听器</p>
<ul>
<li>getEventListeners($(‘selector’)) 返回一个对象数组，其中包含绑定到该元素的所有事件。</li>
<li>getEventListeners($(‘selector’)).eventName[0].listener </li>
</ul>
<p> 如：getEventListeners($(‘firstName’)).click[0].listener：返回选中元素的点击事件的监听器；</p>
</li>
<li>输出调用栈
console.trace()</li>
<li><code>console.dirxml($0)</code> 输出指定的节点包含的HTML</li>
<li>console.assert(a===b, a);  当条件判断为false时才输出</li>
<li>console.dir</li>
</ul>
<deckgo-highlight-code language="js" terminal="carbon" theme="blackboard"  >
          <code slot="code">$ // 简单理解就是 document.querySelector 而已。
$$ // 简单理解就是 document.querySelectorAll 而已。
$_ // 是上一个表达式的值
$0-$4 // 是最近5个Elements面板选中的DOM元素
dir // 其实就是 console.dir
keys // 取对象的键名, 返回键名组成的数组
values // 去对象的值, 返回值组成的数组
copy($0) // 拷贝选中节点的HTML到剪贴板</code>
        </deckgo-highlight-code>
<ol start="7">
<li><code>monitor(函数名)</code> 和 <code>unmonitor(函数名)</code> ：当指定的函数被调用时控制台输出一条消息</li>
<li>
<p>在线编辑网页</p>
<deckgo-highlight-code language="js" terminal="carbon" theme="blackboard"  >
          <code slot="code">document.body.contentEditable = true;</code>
        </deckgo-highlight-code>
</li>
<li>
<p>获取DOM的事件处理程序</p>
<deckgo-highlight-code language="js" terminal="carbon" theme="blackboard"  >
          <code slot="code">var listens = getEventListeners($(&quot;selector&quot;))
listens.click[0].listener.toString();

monitorEvents(&quot;dom&quot;, [&quot;click&quot;, &quot;mousedown&quot;])
unmonitorevent(&quot;dom&quot;);</code>
        </deckgo-highlight-code>
</li>
</ol>
<p><strong>参考</strong></p>
<ul>
<li><a href="https://juejin.im/post/5ca6bf5151882543fc5e3bb0">灵活使用 console 让 js 调试更简单</a> </li>
</ul>
<h4 id="t-5" >Whlstle</h4>
<h5 id="t-6" >命令</h5>
<ul>
<li>w2 start/restart/stop</li>
<li>w2 start -p &#x3C;端口号></li>
</ul>
<p>使用log 功能打印日志</p>
<ul>
<li>/<a href="http://www.baidu.com/">http://www.baidu.com/</a>   log://</li>
</ul>
<h4 id="t-7" >移动端调试</h4>
<ul>
<li>前端 将远程页面代理到本机进行调试</li>
<li>Charles 代理远程页面到本地，实际上访问本地资源。</li>
<li><a href="https://aotu.io/notes/2017/02/24/Mobile-debug/index.html">移动端真机调试-凹凸实验室</a> <strong>重点</strong>
switchHost &#x26; Charles</li>
<li>
<p><a href="http://blog.ipalfish.com/?p=150">前端页面调试</a> </p>
<ul>
<li>Charles 代理  &#x26; 移动端调试H5页面，</li>
<li>Android IOS 调试</li>
</ul>
</li>
<li><a href="https://cloud.tencent.com/developer/article/1032655">抓包神器之Charles，常用功能都在这里了</a> </li>
<li>
<p><a href="https://juejin.im/post/5b4f005ae51d45191c7e534a#heading-20">Charles抓包</a> </p>
<p><a href="#%E4%B8%80%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8">一、安装与使用</a></p>
<p><a href="#%E4%BA%8C%E6%8A%93%E6%89%8B%E6%9C%BA%E7%9A%84%E8%AF%B7%E6%B1%82%E5%8C%85">二、抓手机的请求包</a></p>
<ul>
<li><a href="#http%E8%AF%B7%E6%B1%82%E6%8A%93%E5%8C%85">http请求抓包</a></li>
<li>https请求抓包</li>
<li><a href="#iphone%E6%89%8B%E6%9C%BA%E6%8A%93https%E5%8C%85">iPhone手机抓https包</a></li>
<li><a href="#%E5%AE%89%E5%8D%93%E5%B0%8F%E7%B1%B3%E6%89%8B%E6%9C%BA%E6%8A%93https%E5%8C%85">安卓（小米）手机抓https包</a></li>
</ul>
<p><a href="#%E4%B8%89%E7%94%A8%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E6%9B%BF%E6%8D%A2%E7%BA%BF%E4%B8%8A%E6%96%87%E4%BB%B6">三、用本地文件替换线上文件</a></p>
<ul>
<li><a href="#%E6%9B%BF%E6%8D%A2%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%9A%84%E6%96%87%E4%BB%B6">替换测试环境的文件</a></li>
<li><a href="#%E6%9B%BF%E6%8D%A2%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%9A%84%E6%96%87%E4%BB%B6%E8%B7%A8%E5%9F%9F">替换生产环境的文件（跨域）</a></li>
</ul>
<p><a href="#%E5%9B%9B%E5%85%B6%E4%BB%96">四、其他</a></p>
<ul>
<li><a href="#%E7%AD%9B%E9%80%89%E6%8C%87%E5%AE%9A%E5%9F%9F%E4%B8%8B%E7%9A%84%E8%AF%B7%E6%B1%82">筛选指定域下的请求</a></li>
</ul>
<p><a href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">参考文档</a> </p>
</li>
<li><a href="https://juejin.im/post/5bd673dc6fb9a05ce46a1333">Charles代理到本地</a> </li>
<li><a href="https://ningyu1.github.io/site/post/84-charles/">Charles使用</a> </li>
<li><a href="https://juejin.im/post/5ad045d2f265da2385334555">https://juejin.im/post/5ad045d2f265da2385334555</a></li>
</ul>
<blockquote>
<p>需要注意的是，Chrome 和 Firefox 浏览器默认并不使用系统的代理服务器设置，而 Charles 是通过将自己设置成代理服务器来完成封包截取的，所以在默认情况下无法截取 Chrome 和 Firefox 浏览器的网络通讯内容。如果你需要截取的话，在 Chrome 中设置成使用系统的代理服务器设置即可，或者直接将代理服务器设置成 127.0.0.1:8888 也可达到相同效果。</p>
</blockquote>
<h5 id="t-8" >总结</h5>
<p><strong>1.使用Chrome调试App中的WebView页面</strong> </p>
<ul>
<li>
<p>将手机与电脑相连，并且打开手机的‘usb 调试’，然后在chrome中使用<code>chrome://inspect/</code> 查看页面DOM</p>
<ol>
<li>remote target中显示当前手机</li>
<li>手机上打开App调试包，调试包中包含了一段代码，有这段代码Chrome才能检测到WebView页面，</li>
<li>手机进入页面后<code>chrome://inspect/</code>中会显示该页面
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 404px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUUlEQVQoz52RWY/aMBhF+f//rC2jEYVCyEI2sjBJiJ2FMMTmVHao+tL2oVe6/q4t68rWWW13e/aHI67rkyQp397e2Wx/IISgbVvra9PweDwwej6fZlnmH7SS48hwv9PdJkyePj95zDNKa2alFmuNNmWvwr/ZFnpf30i/7/C+rPHX78iqoq0qBiEQdW2zOZuyHG4T/5IpXWVeQHmKaLOCrrxQOx7V3iHf7KgPLh+7A6XxKeIchORFSVFeSM8ZUZwgux4xKm53tbzwGMVERUlsLtYN56K0dk8h6Sv7UWxzmKSk55zkVeYHIUJK8mam7eelMHOOFK5HE8WM0oC4WgidlLTXK1II+r6zcLpumWY/DAN931t4nWyZpnEpdNZbws2BeOvgeTFuENtvlZcP/OCENnBmZSnP82ynUuq3tUYpjda/oFxm6hHEBH5+p79p/lcGyk9x8mHo0dJxhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image-20200714123919261"
        title="image-20200714123919261"
        src="/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png"
        srcset="/static/b34dbd7f11b834c4fad41a00babe2cb2/772e8/image-20200714123919261.png 200w,
/static/b34dbd7f11b834c4fad41a00babe2cb2/e17e5/image-20200714123919261.png 400w,
/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png 404w"
        sizes="(max-width: 404px) 100vw, 404px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span> </li>
</ol>
</li>
</ul>
<p><strong>2.使用代理让手机访问本地页面，然后进行调试</strong> </p>
<h4 id="t-9" >Vscode调试</h4>
<p>launch.json</p>
<p>参考：<a href="https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/">https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/</a> </p>
<deckgo-highlight-code language="json" terminal="carbon" theme="blackboard"  >
          <code slot="code">{
  &quot;name&quot;: &quot;调试 Node.js 程序&quot;,
  &quot;type&quot;: &quot;node&quot;,
  &quot;request&quot;: &quot;launch&quot;,  //launsh | attach
  // request，必填项，有两种类型，分别是 launch 和 attach，前者的意思就是 VSCode 会打开这个程序然后进入调试，后者的意思是你已经打开了程序，然后接通 Node.js 的内部调试协议进行调试
  
  &quot;program&quot;: &quot;${workspaceFolder}/src/index.js&quot; //程序的启动入口；
  
  /*
  除了使用program字段指定程序入口，
  还可以使用runtimeExecutable 和 args 启动程序
  &quot;runtimeExecutable&quot;: &quot;node&quot;,  使用什么命令启动
  &quot;args&quot;: [  启动时的参数
    &quot;${workspaceFolder}/src/index.js&quot;
  ]
  */
}</code>
        </deckgo-highlight-code>
<p>launch.json</p>
<deckgo-highlight-code  terminal="carbon" theme="blackboard"  >
          <code slot="code">{
  &quot;type&quot;: &quot;node&quot;,
  &quot;request&quot;: &quot;launch&quot;,
  &quot;runtimeExecutable&quot;: &quot;node&quot;,
  &quot;runtimeArgs&quot;: [
    &quot;-r&quot;,
    &quot;ts-node/register&quot;
  ],
  &quot;args&quot;: [
    &quot;${workspaceFolder}/src/index.ts&quot;
  ]
}</code>
        </deckgo-highlight-code>
<p><code>runtimeArgs</code> 是为 <code>runtimeExecutable</code> 环境提供的配置，而 args 是为程序提供的配置。这个 JSON 的意思是：通过 node 来启动 <code>/src/index.ts</code>，在启动时为 node 注入一个 <code>ts-node/register</code> 模块，以便可以执行 ts 类型的文件。实际执行代码为：<code>node --inspect-brk=DEBUG_PORT -r ts-node/register ./src/index.ts</code> </p>
<h6 id="t-10" >属性解释</h6>
<ul>
<li><code>${workspaceFolder}</code> ：给出工作区文件夹的根路径</li>
<li><code>${file}</code>在活动编辑器中打开的文件</li>
</ul>
<h4 id="t-11" >配置</h4>
<h5 id="t-12" ><a href="https://code.visualstudio.com/api/references/theme-color">Theme Color</a></h5>
<h4 id="t-13" ><a href="https://wiki.beisen-inc.com/pages/viewpage.action?pageId=230067462">ios调试</a></h4>
<ul>
<li><a href="https://mp.weixin.qq.com/s/6pYUMtf_7fM_1Zg7qrNIAA">使用Safari进行UIWebView的调试</a> </li>
</ul>
<hr>
<h4 id="t-14" >Android &#x26; Chrome调试移动端页面</h4>
<p><strong>思路</strong></p>
<p>调试App中的H5页面时，首先要让App访问的资源从远程服务器转向本地，然后将手机与电脑通过数据线连接，使用Chrome的提供的<code>chrome://inspect/#devices</code>工具进行调试。调试步骤如下：</p>
<ol>
<li>打开手机上的"usb调试"选项，打开该选项后，当手机与电脑相连后才能在Chrome的<code>chrome://inspect/#devices</code>页面上查看到当前设备</li>
<li>
<p>手机上安装需要调试的App的<strong>调试包</strong>，打开App内的H5页面后就能在Chrome上看到对应的页面路径
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 615px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVQoz21S6W7jIBj0+79cfm2dbt3UN+awMYddicOzgjTeROpIIwQffDDDFNNEQciEVSkkcM7Rdj2U0njgOI6Tv+G5XhBCIKU8N3ezh1QG1m5Q2kAbgxBirsUYQSnFOI5omgbDMMB7/9K0UErBOXfedp08+LxA6xXzPEMIAWvNz6GIqqpwuVxwLctcP2I8GyYU1loYY+B9yAtMBRBuMQkLwg0GpkGYgtQO3se8N73Sbtt/yU/SC5MlhbOozTe4vHNev7Eah80Bcj/gXo1D9B5HCHc+JKeG6ZWJyY+JUvR9j4lOqJsGapXYZ4Gtb+FngcAYXNfBVZ/wbYtAJvhhwPHjZaG1PhsmLzkXYFzg9lVjXiR020HXNcTtCxshLxJ/Q7Hv+4tkImbUAwGTa+bAOOi6ouMC4yLRDyPqpgWZKIRy8OHIV6Q/yZIffuTlEECvJWhZYqk+8kj/vIG+lVje/2L5vGGRMmc2pWPV93jZ7a5w2zYUz4FNEeiqHt1Hi/q9wVjVWLsOKnmkNfw4wjMGTwjcSPLcpSwyjpg+KUb8A0/zANsDHprKAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image-20200726215312347"
        title="image-20200726215312347"
        src="/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png"
        srcset="/static/13ed2d391bc428b831ed074afbd07e26/772e8/image-20200726215312347.png 200w,
/static/13ed2d391bc428b831ed074afbd07e26/e17e5/image-20200726215312347.png 400w,
/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png 615w"
        sizes="(max-width: 615px) 100vw, 615px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span> </p>
<ul>
<li>上图中首页路径为<code>file://android_asset/xxx/index.html</code>，<code>file</code>协议说明打开的是手机内的本地页面，如果打开的远程页面则显示如下：
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 758px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 8.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVElEQVQI122LOw6AMAxDuf8xmZhQ4pBUKm2NCJ8BMVhP/k0WG81AVRAAFaCZ0d1TEfH6UkoS90ZVKSKZP7tpXsBVrqN7JGvd2Xtnay35p7P79mMMHua5m5Lg890XAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image-20200726215731560"
        title="image-20200726215731560"
        src="/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png"
        srcset="/static/7518a50391402bc7b5355dcf15ebbc50/772e8/image-20200726215731560.png 200w,
/static/7518a50391402bc7b5355dcf15ebbc50/e17e5/image-20200726215731560.png 400w,
/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png 758w"
        sizes="(max-width: 758px) 100vw, 758px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span> </li>
</ul>
</li>
</ol>
<p>本地页面和远程页面的调试方式不同，以下分别介绍：</p>
<ul>
<li>
<p><strong>调试远程页面</strong>：远程页面包含的html、js等资源是在本地开发完成后部署到远程服务器上，手机也是访问远程服务器上的资源，所以不需要使用手机进行真机调试，不用将手机与电脑相连，调试步骤如下：</p>
<ul>
<li>本地运行项目代码，比如：<code>npm run start</code>，该命令通常会运行一个webpack服务器(或者其他服务器)，
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 4.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARklEQVQI1wXBWw6AIAxFQSKVR+QqaSD9Yf/bPM4kaVBrQxJrLSKC3jtzTvbenHNwd6SXejvFJpYfLAvLg3x1WgmKfaSU+AGR8RbKhLhY2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image-20200726222056765"
        title="image-20200726222056765"
        src="/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png"
        srcset="/static/365300bddf290fb51fbbfb5ba2a654e8/772e8/image-20200726222056765.png 200w,
/static/365300bddf290fb51fbbfb5ba2a654e8/e17e5/image-20200726222056765.png 400w,
/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png 486w"
        sizes="(max-width: 486px) 100vw, 486px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span> </li>
</ul>
<p>比如现在这个项目运行在本地的3000端口，在浏览器中通过<code>http://0.0.0.0:3000/</code>、<code>http://127.0.0.1:3000/</code>和<code>http://localhost:3000/</code>都能访问到该项目。（<a href="https://juejin.im/post/5d258b6ae51d454f73356dcf"><code>0.0.0.0</code>、<code>127.0.0.1</code>和<code>localhost</code>之间的区别</a>） 。</p>
<ul>
<li>项目中如果有请求远程服务器上的数据时，通过<code>localhost:3000</code>和ip地址作为url访问项目存在跨域问题，所以需要配置nginx进行代理，步骤如下：</li>
<li>在本地电脑上安装并运行nginx(nginx是一款服务器)，安装成功后在终端输入<code>nginx -v</code>会显示nginx 的版本。</li>
<li>修改nginx配置文件，该配置文件一般在<code>/usr/local/etc/nginx/nginx.conf</code> ，找不到的话可以在终端输入<code>find / -name 'nginx.config'</code> 查找文件位置。</li>
<li>
<p>nginx的详细配置见<a href="https://zhuanlan.zhihu.com/p/31202053%EF%BC%8C%E6%AD%A4%E5%A4%84%E5%8F%AA%E5%AF%B9%E7%94%A8%E5%88%B0%E7%9A%84%E5%87%A0%E4%B8%AA%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E">https://zhuanlan.zhihu.com/p/31202053，此处只对用到的几个字段说明</a></p>
<deckgo-highlight-code  terminal="carbon" theme="blackboard"  >
          <code slot="code">server {
  server_name abc.link; // 不能随便取，为了能解决跨域，需要填写指定的名字
  listen 80;
  root /xxx/xxx;

  location / {
      proxy_pass http://127.0.0.1:3000/;
  }
}</code>
        </deckgo-highlight-code>
<p>上述是一个nginx.config文件中的一个server区块，nginx配置文件中的一个server区块表示一个虚拟服务器，配置文件中可以包含多个server块。<code>server_name abc.link;</code> 表示这个虚拟服务器的名字是<code>abc.link</code>，我们在浏览器中输入url时其中的域名部分就是<code>abc.link</code>；<code>listen 80;</code>表示服务器监听的80端口，所以在url中的端口就是80(可省略)，<code>root</code>指定了项目所在根目录，<code>location</code>对应url中的路径部分，<code>proxy_pass</code>表示代理到<code>http://127.0.0.1:3000/</code>地址。</p>
<p>总结：上述配置的效果就是，当我们在浏览器中输入<code>http://abc.link/</code> 时，浏览器实际访问的是<code>http://127.0.0.1:3000</code>，该地址就是执行<code>npm run start</code>时开启的本地项目所在地址。</p>
</li>
<li>在浏览器中输入url时，浏览器会根据对url中的域名进行解析得到域名对应的服务器ip地址，然后才能访问服务器上的资料。因为nginx服务器运行在本地电脑上，所以要让abc.link指向本机的ip(127.0.0.1)。所以设置SwitchHost为：<code>127.0.0.1 abc.link</code>。</li>
</ul>
</li>
<li>
<p><strong>调试本地页面</strong> </p>
<ul>
<li>本地页面随App一起安装到手机，不需要网络也能访问，本地页面的路径如：<code>file://xxx/xxx</code>，</li>
<li>调试本地页面需要将手机和电脑相连，然后对手机进行代理，把手机访问的资源指向电脑本地资源路径，步骤如下：</li>
<li>运行Charles，手机和电脑在同一个局域网下，连接同一个WiFi。进入Proxy--->Proxy Settings设置代理，</li>
<li>修改手机网络，设置代理，'服务器主机名'填写电脑IP地址，端口与Charles设置的端口一致，</li>
<li>
<p>配置nginx，指定电脑上项目所在路径</p>
<deckgo-highlight-code  terminal="carbon" theme="blackboard"  >
          <code slot="code">server {
   server_name appdebug.italent.link;
		listen       80;
   
   # talent-core
   location /new-italent-app {
       add_header Cache-Control &quot;no-cache, no-store, must-revalidate&quot;;
       
       # new-italent-app的父级目录：
       root /Users/beisen/workspace/beisen/italent-app;
       autoindex on;
   }
}</code>
        </deckgo-highlight-code>
</li>
<li>手机安装调试包，进入App，然后在<code>chrome://inspect/#devices</code>页面上就能看到手机上当前页面的路径，点击inspect就能开始调试本地页面了。</li>
</ul>
</li>
</ul></article><div class="article-title-wrap"><ul class="article-title-list"><li data-id="0"></li><li data-id="1"></li><li data-id="2"></li><li data-id="3"></li><li data-id="4"></li><li data-id="5"></li><li data-id="6"></li><li data-id="7"></li><li data-id="8"></li><li data-id="9"></li><li data-id="10"></li><li data-id="11"></li><li data-id="12"></li><li data-id="13"></li><li data-id="14"></li></ul></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/articles/前端/前端调试/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-0672eb177be2180b9b97.js"],"app":["/app-f4e8fefb92197832af63.js"],"component---src-pages-404-js":["/component---src-pages-404-js-da26abf276b01cb65497.js"],"component---src-pages-debug-jsx":["/component---src-pages-debug-jsx-f5795fb4e41157ac863f.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-40db736efce626122aa3.js"],"component---src-pages-other-js":["/component---src-pages-other-js-708266e2a7807cb5b20b.js"],"component---src-pages-repos-jsx":["/component---src-pages-repos-jsx-3c7fceffab3ce00c83bb.js"],"component---src-templates-post-js":["/component---src-templates-post-js-228a601f2161ab8981c0.js"],"polyfills-dom":["/polyfills-dom-527287ec3415f87639b2.js"],"polyfills-core-js":["/polyfills-core-js-00812e0208c5c6bfb98e.js"]};/*]]>*/</script><script src="/polyfill-0672eb177be2180b9b97.js" nomodule=""></script><script src="/component---src-templates-post-js-228a601f2161ab8981c0.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-f4e8fefb92197832af63.js" async=""></script><script src="/framework-671e2a16129b80fb7370.js" async=""></script><script src="/webpack-runtime-6a5192b07655d546f5f4.js" async=""></script></body></html>