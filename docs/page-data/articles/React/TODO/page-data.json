{"componentChunkName":"component---src-templates-post-js","path":"/articles/React/TODO/","result":{"data":{"markdownRemark":{"fields":{"articlePath":"/articles/React/TODO/"},"html":"<p>函数组件和类组件的默认属性怎么写？</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">Cmp.defaultProps = {\r\n  color: &#39;red&#39;\r\n}</code>\n        </deckgo-highlight-code>\n<p>箭头函数 displayName?</p>\n<p>TS不支持 函数组件.displayName 和 defaultProps</p>\n<p>ts 声明全局函数</p>\n<p><a href=\"https://juejin.im/post/6844903612787720206\">https://juejin.im/post/6844903612787720206</a>  泛型组件</p>\n<p><a href=\"https://www.zhihu.com/question/279911703\">https://www.zhihu.com/question/279911703</a>  TypeScript 如何完美地书写 React 中的 HOC</p>\n<p><a href=\"https://libin1991.github.io/2019/06/03/React-TypeScript-50-%E6%9D%A1%E8%A7%84%E8%8C%83%E5%92%8C%E7%BB%8F%E9%AA%8C/\">React + TS 规范</a></p>\n<p><a href=\"https://juejin.cn/post/6844903612787720206\">React 组件模式 + TS - 蚂蚁金服</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/article/1469387\">TypeScript 2.8下的终极React组件模式</a></p>\n<p>React 元素: <code>&#x3C;/div></code>  和 <code>&#x3C;/MyCmp></code></p>\n<deckgo-highlight-code language=\"tsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">const CMP: React.ReactHTMLElement&lt;React.ReactHTML&gt; = &lt;h1&gt;&lt;/h1&gt;;\r\nconst CMP: React.ReactHTMLElement&lt;React.ReactHTML&gt; = &lt;InputWrap/&gt;;</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">this.setState({\r\n  loading: false,\r\n  }, () =&gt; {\r\n    resolve();\r\n  },\r\n);\r\n\r\nthis.setState(函数)\r\n\r\nsetState、Promise、setTimeout 微任务、宏任务</code>\n        </deckgo-highlight-code>\n<p><a href=\"https://github.com/facebook/react/tree/master/packages/create-subscription\">create-subscription</a>  添加事件监听</p>\n<p><strong>发布订阅</strong></p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">import {createSubscription} from &#39;create-subscription&#39;;\r\n\r\nconst Subscription = createSubscription({\r\n  getCurrentValue(sourceProp) {\r\n    // 返回订阅的当前值（sourceProp）。\r\n    return sourceProp.value;\r\n  },\r\n\r\n  subscribe(sourceProp, callback) {\r\n    function handleSubscriptionChange() {\r\n      callback(sourceProp.value);\r\n    }\r\n\r\n    // 订阅（例如：向订阅（sourceProp）添加事件监听器。\r\n    // 每当订阅发生变化时，调用回调函数（新值）。\r\n    sourceProp.subscribe(handleSubscriptionChange);\r\n    \r\n    // 返回取消订阅方法。\r\n    return function unsubscribe() {\r\n      sourceProp.unsubscribe(handleSubscriptionChange);\r\n    };\r\n  },\r\n});\r\n\r\n// 我们可以直接传递订阅的值，\r\n// 而不是将可订阅的源传递给我们的 ExampleComponent：\r\n&lt;Subscription source={dataSource}&gt;\r\n  {value =&gt; &lt;ExampleComponent subscribedValue={value} /&gt;}\r\n&lt;/Subscription&gt;;</code>\n        </deckgo-highlight-code>\n<p>Warning: componentWillReceiveProps has been renamed, and is not recommended for use. See <a href=\"https://fb.me/react-unsafe-component-lifecycles\">https://fb.me/react-unsafe-component-lifecycles</a> for details.</p>\n<ul>\n<li>Move data fetching code or side effects to componentDidUpdate.</li>\n<li>If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: <a href=\"https://fb.me/react-derived-state\">https://fb.me/react-derived-state</a></li>\n<li>Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 17.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run <code>npx react-codemod rename-unsafe-lifecycles</code> in your project source folder.</li>\n</ul>\n<p><a href=\"https://gist.github.com/bvaughn/982ab689a41097237f6e9860db7ca8d6\">组件卸载时取消axios请求</a></p>\n<blockquote>\n<ul>\n<li>HomeBrew npm yarn npx 创建项目，管理包  npx react-codemod</li>\n<li>immer 源码解读</li>\n</ul>\n</blockquote>\n<hr>\n<p>当调用一个对象的方法时，对象自身没有该方法，沿着原型链向上查找该方法时，在原型链上找到该方法时并调用该方法时，方法中的 this 指向？</p>\n<p>Immer：Immutable的升级版</p>\n<p>Mobx ：Redux 替换版</p>\n<p><a href=\"https://zh-hans.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies\">箭头函数函数有闭包</a></p>\n<p><a href=\"https://zh-hans.reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often\">https://zh-hans.reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/70f7863b7ee8dc858240e11c681a29a5/142fb/image-20200611113304252.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQoz42Q227aUBBF/TElLRDA2MYYE8zFQAg40JT2oVKlPvWfAV+oLyGAiIC0SLygVXFSNX1oq460tM8ejfYZjTR695GKaVNrOZjNAabVQTebaBWbUtVGLddRdQu1bD3rvyjXkep2n0y+gmq0kEs1irpFVjZIy6YglVF49UYmlS7+F1K3f0des6h2xujNAbp1g2y00CoNiqXa84ZGHUW3BHm1Sq5oklP+jNRzxsgli2rToVG1MaweutWnZjuY9S6a0UDWamL7sxa0Kwrq35EabYfXlyVyhTKmUkHWrriUDbIFg7xiksnrpNIKFxn1J4o4w4tXuci+IH36/IV2d0jfeU9v+IHrwZje4I5W95ZWx6F9PaRz81ao3b2l0xv98u3eSMw12wOanYGYl3a7HWEU4XoeQeCxWi6YzTySJOF+scAPAjzfJ0nuWa3XzOdfcV1P+CiKWK/X7PdPnHN2uz3S8XhkNnOJ44gonLLdhAT+BNf1WS0jfG/CdDrF933iOGYe+EwmE6IwFP3tdsvvJQKTOOBhEbBZx4LlQ0gSecwDD9d1RdD598fHDd+/PYn34XBguVoJPdfpdBL8AB8dplAZJJLhAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20200611113304252\"\n        title=\"image-20200611113304252\"\n        src=\"/static/70f7863b7ee8dc858240e11c681a29a5/5a190/image-20200611113304252.png\"\n        srcset=\"/static/70f7863b7ee8dc858240e11c681a29a5/772e8/image-20200611113304252.png 200w,\n/static/70f7863b7ee8dc858240e11c681a29a5/e17e5/image-20200611113304252.png 400w,\n/static/70f7863b7ee8dc858240e11c681a29a5/5a190/image-20200611113304252.png 800w,\n/static/70f7863b7ee8dc858240e11c681a29a5/142fb/image-20200611113304252.png 907w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>栈中存放基本数据类型，堆中存放引用类型</strong></p>\n<p>如果你传入了一个空数组（<code>[]</code>），effect 内部的 props 和 state 就会一直持有其初始值。</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function sayHi(person) {\r\n  const name = person.name;\r\n  setTimeout(() =&gt; {\r\n    console.log(&#39;Hello, &#39; + name); // 改为console.log(person.name)\r\n  }, 3000);\r\n}\r\n\r\nlet someone = {name: &#39;Dan&#39;};\r\nsayHi(someone);\r\n\r\nsomeone = {name: &#39;Yuzhi&#39;};  // someone.name = &#39;two&#39;\r\nsayHi(someone);\r\n\r\nsomeone = {name: &#39;Dominic&#39;}; //someone.name = &#39;three&#39;\r\nsayHi(someone);\r\n\r\n// 输出是什么？</code>\n        </deckgo-highlight-code>\n<p><a href=\"https://overreacted.io/zh-hans/a-complete-guide-to-useeffect/\">链接</a></p>","id":"abba9fd6-c872-544a-aa54-81a6ac8a06e0","parent":{"name":"TODO","base":"TODO.md","mtime":"2023-03-08T03:39:20.001Z","sourceInstanceName":"markdown"}}},"pageContext":{"articlePath":"/articles/React/TODO/"}},"staticQueryHashes":["3957182205"]}