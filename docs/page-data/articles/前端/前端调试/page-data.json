{"componentChunkName":"component---src-templates-post-js","path":"/articles/前端/前端调试/","result":{"data":{"markdownRemark":{"fields":{"articlePath":"/articles/前端/前端调试/"},"html":"<h4>Chrome开发者工具</h4>\n<p>调试面板说明 Style 面板中，优先级越高的规则，排列越靠前 Style 面板中：</p>\n<ul>\n<li>通过层叠规则被覆盖的 CSS 规则，使用<strong>删除线</strong>文本显示；</li>\n<li><strong>灰色</strong>条目是未定义的规则，在运行时被计算样式取代了，不是继承的 Style  (注：可以理解为无效的样式规则)；</li>\n<li>computed 面板中灰色的 CSS 属性表示该属性未在 Style 面板中定义(包括默认的属性)；</li>\n<li><a href=\"chrome://inspect/#devices\">Chrome 移动端调试地址</a> </li>\n</ul>\n<hr>\n<h4><a href=\"https://mp.weixin.qq.com/s/kaPGHiGI-ljPJQ5pqxE-5A\">H5 移动调试全攻略</a></h4>\n<p>1.<code>Safari</code>：<code>iPhone</code> 调试利器，查错改样式首选；\n2.<code>iOS</code> 模拟器：不需要真机，适合调试 <code>Webview</code> 和 <code>H5</code> 有频繁交互的功能页面；\n3.<code>Charles</code>： <code>Mac OS</code> 系统首选的抓包工具，适合查看、控制网络请求，分析数据情况；\n4.<code>Fiddler</code>：适合 <code>Windows</code> 平台，与 <code>Charles</code> 类似，查看、控制网络请求，分析数据情况；\n5.<code>Spy-Debugger</code>：移动端调试的利器，便捷的远程调试手机页面、抓包工具；\n6.<code>Whistle</code>：基于 <code>Node</code> 实现的跨平台 <code>Web</code> 调试代理工具；\n7.<code>Chrome Remote Devices</code>：依赖 <code>Chrome</code> 来进行远程调试，适合安卓手机远程调试静态页；\n8.<code>localhost</code> 转 <code>ip</code>：真机调试，适合远程调试静态页面；\n9.<code>vConsole</code>：内置于项目，打印移动端日志，查看网络请求以及查看 <code>Cookie</code> 和 <code>Storage</code>；</p>\n<h4>代理调试</h4>\n<ul>\n<li><a href=\"https://youzan.github.io/zan-proxy/\">zan-proxy</a>  </li>\n</ul>\n<h4><a href=\"https://mp.weixin.qq.com/s/GIVylU3poibE-vIg6sLy9w\">移动端真机调试</a></h4>\n<ul>\n<li>chrome inspect应用场景有限。</li>\n<li>weinre调试</li>\n<li>spy-debugger调试</li>\n</ul>\n<h4>Chrome 调试</h4>\n<ul>\n<li>\n<p>console输出支持4种占位符：<code>%o d s f c</code>-->对应4种类型的数据：对象、整数、字符串、浮点数和css样式</p>\n<p>如：<code>console.log('对象：%o, %c整数：%d', {name:'czl'}, 'color: yellow', 23);</code>\n<code>%c</code> 之后的文本使用指定的css样式输出；</p>\n</li>\n<li><code>console.group()</code> 和 <code>console.groupEnd()</code> 开启和关闭输出块；</li>\n<li>\n<p>清除指定代码位置之前的console并且屏蔽之后的console</p>\n<ul>\n<li>清除控制台之后的console.log、warn等输出：console.clear();</li>\n<li>屏蔽console.log：console.log = ()=>{}</li>\n</ul>\n</li>\n<li>\n<p>chrome控制台中选中DOM元素</p>\n<ul>\n<li>$('tagName') $('.class') $('#id') and $('.class #id') 等效于document.querySelector('')，返回与指定的CSS选择器相匹配的第一个元素；</li>\n<li>$$('selector')：等效于document.querySelectorAll()，返回与指定的CSS选择器相匹配的所有元素的数组；</li>\n<li>$0：</li>\n</ul>\n</li>\n<li>\n<p>查看某个DOM元素的事件监听器</p>\n<ul>\n<li>getEventListeners($(‘selector’)) 返回一个对象数组，其中包含绑定到该元素的所有事件。</li>\n<li>getEventListeners($(‘selector’)).eventName[0].listener </li>\n</ul>\n<p> 如：getEventListeners($(‘firstName’)).click[0].listener：返回选中元素的点击事件的监听器；</p>\n</li>\n<li>输出调用栈\nconsole.trace()</li>\n<li><code>console.dirxml($0)</code> 输出指定的节点包含的HTML</li>\n<li>console.assert(a===b, a);  当条件判断为false时才输出</li>\n<li>console.dir</li>\n</ul>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">$ // 简单理解就是 document.querySelector 而已。\n$$ // 简单理解就是 document.querySelectorAll 而已。\n$_ // 是上一个表达式的值\n$0-$4 // 是最近5个Elements面板选中的DOM元素\ndir // 其实就是 console.dir\nkeys // 取对象的键名, 返回键名组成的数组\nvalues // 去对象的值, 返回值组成的数组\ncopy($0) // 拷贝选中节点的HTML到剪贴板</code>\n        </deckgo-highlight-code>\n<ol start=\"7\">\n<li><code>monitor(函数名)</code> 和 <code>unmonitor(函数名)</code> ：当指定的函数被调用时控制台输出一条消息</li>\n<li>\n<p>在线编辑网页</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">document.body.contentEditable = true;</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>获取DOM的事件处理程序</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">var listens = getEventListeners($(&quot;selector&quot;))\nlistens.click[0].listener.toString();\n\nmonitorEvents(&quot;dom&quot;, [&quot;click&quot;, &quot;mousedown&quot;])\nunmonitorevent(&quot;dom&quot;);</code>\n        </deckgo-highlight-code>\n</li>\n</ol>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href=\"https://juejin.im/post/5ca6bf5151882543fc5e3bb0\">灵活使用 console 让 js 调试更简单</a> </li>\n</ul>\n<h4>Whlstle</h4>\n<h5>命令</h5>\n<ul>\n<li>w2 start/restart/stop</li>\n<li>w2 start -p &#x3C;端口号></li>\n</ul>\n<p>使用log 功能打印日志</p>\n<ul>\n<li>/<a href=\"http://www.baidu.com/\">http://www.baidu.com/</a>   log://</li>\n</ul>\n<h4>移动端调试</h4>\n<ul>\n<li>前端 将远程页面代理到本机进行调试</li>\n<li>Charles 代理远程页面到本地，实际上访问本地资源。</li>\n<li><a href=\"https://aotu.io/notes/2017/02/24/Mobile-debug/index.html\">移动端真机调试-凹凸实验室</a> <strong>重点</strong>\nswitchHost &#x26; Charles</li>\n<li>\n<p><a href=\"http://blog.ipalfish.com/?p=150\">前端页面调试</a> </p>\n<ul>\n<li>Charles 代理  &#x26; 移动端调试H5页面，</li>\n<li>Android IOS 调试</li>\n</ul>\n</li>\n<li><a href=\"https://cloud.tencent.com/developer/article/1032655\">抓包神器之Charles，常用功能都在这里了</a> </li>\n<li>\n<p><a href=\"https://juejin.im/post/5b4f005ae51d45191c7e534a#heading-20\">Charles抓包</a> </p>\n<p><a href=\"#%E4%B8%80%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8\">一、安装与使用</a></p>\n<p><a href=\"#%E4%BA%8C%E6%8A%93%E6%89%8B%E6%9C%BA%E7%9A%84%E8%AF%B7%E6%B1%82%E5%8C%85\">二、抓手机的请求包</a></p>\n<ul>\n<li><a href=\"#http%E8%AF%B7%E6%B1%82%E6%8A%93%E5%8C%85\">http请求抓包</a></li>\n<li>https请求抓包</li>\n<li><a href=\"#iphone%E6%89%8B%E6%9C%BA%E6%8A%93https%E5%8C%85\">iPhone手机抓https包</a></li>\n<li><a href=\"#%E5%AE%89%E5%8D%93%E5%B0%8F%E7%B1%B3%E6%89%8B%E6%9C%BA%E6%8A%93https%E5%8C%85\">安卓（小米）手机抓https包</a></li>\n</ul>\n<p><a href=\"#%E4%B8%89%E7%94%A8%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E6%9B%BF%E6%8D%A2%E7%BA%BF%E4%B8%8A%E6%96%87%E4%BB%B6\">三、用本地文件替换线上文件</a></p>\n<ul>\n<li><a href=\"#%E6%9B%BF%E6%8D%A2%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%9A%84%E6%96%87%E4%BB%B6\">替换测试环境的文件</a></li>\n<li><a href=\"#%E6%9B%BF%E6%8D%A2%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%9A%84%E6%96%87%E4%BB%B6%E8%B7%A8%E5%9F%9F\">替换生产环境的文件（跨域）</a></li>\n</ul>\n<p><a href=\"#%E5%9B%9B%E5%85%B6%E4%BB%96\">四、其他</a></p>\n<ul>\n<li><a href=\"#%E7%AD%9B%E9%80%89%E6%8C%87%E5%AE%9A%E5%9F%9F%E4%B8%8B%E7%9A%84%E8%AF%B7%E6%B1%82\">筛选指定域下的请求</a></li>\n</ul>\n<p><a href=\"#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3\">参考文档</a> </p>\n</li>\n<li><a href=\"https://juejin.im/post/5bd673dc6fb9a05ce46a1333\">Charles代理到本地</a> </li>\n<li><a href=\"https://ningyu1.github.io/site/post/84-charles/\">Charles使用</a> </li>\n<li><a href=\"https://juejin.im/post/5ad045d2f265da2385334555\">https://juejin.im/post/5ad045d2f265da2385334555</a></li>\n</ul>\n<blockquote>\n<p>需要注意的是，Chrome 和 Firefox 浏览器默认并不使用系统的代理服务器设置，而 Charles 是通过将自己设置成代理服务器来完成封包截取的，所以在默认情况下无法截取 Chrome 和 Firefox 浏览器的网络通讯内容。如果你需要截取的话，在 Chrome 中设置成使用系统的代理服务器设置即可，或者直接将代理服务器设置成 127.0.0.1:8888 也可达到相同效果。</p>\n</blockquote>\n<h5>总结</h5>\n<p><strong>1.使用Chrome调试App中的WebView页面</strong> </p>\n<ul>\n<li>\n<p>将手机与电脑相连，并且打开手机的‘usb 调试’，然后在chrome中使用<code>chrome://inspect/</code> 查看页面DOM</p>\n<ol>\n<li>remote target中显示当前手机</li>\n<li>手机上打开App调试包，调试包中包含了一段代码，有这段代码Chrome才能检测到WebView页面，</li>\n<li>手机进入页面后<code>chrome://inspect/</code>中会显示该页面\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 404px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUUlEQVQoz52RWY/aMBhF+f//rC2jEYVCyEI2sjBJiJ2FMMTmVHao+tL2oVe6/q4t68rWWW13e/aHI67rkyQp397e2Wx/IISgbVvra9PweDwwej6fZlnmH7SS48hwv9PdJkyePj95zDNKa2alFmuNNmWvwr/ZFnpf30i/7/C+rPHX78iqoq0qBiEQdW2zOZuyHG4T/5IpXWVeQHmKaLOCrrxQOx7V3iHf7KgPLh+7A6XxKeIchORFSVFeSM8ZUZwgux4xKm53tbzwGMVERUlsLtYN56K0dk8h6Sv7UWxzmKSk55zkVeYHIUJK8mam7eelMHOOFK5HE8WM0oC4WgidlLTXK1II+r6zcLpumWY/DAN931t4nWyZpnEpdNZbws2BeOvgeTFuENtvlZcP/OCENnBmZSnP82ynUuq3tUYpjda/oFxm6hHEBH5+p79p/lcGyk9x8mHo0dJxhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20200714123919261\"\n        title=\"image-20200714123919261\"\n        src=\"/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png\"\n        srcset=\"/static/b34dbd7f11b834c4fad41a00babe2cb2/772e8/image-20200714123919261.png 200w,\n/static/b34dbd7f11b834c4fad41a00babe2cb2/e17e5/image-20200714123919261.png 400w,\n/static/b34dbd7f11b834c4fad41a00babe2cb2/494f9/image-20200714123919261.png 404w\"\n        sizes=\"(max-width: 404px) 100vw, 404px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> </li>\n</ol>\n</li>\n</ul>\n<p><strong>2.使用代理让手机访问本地页面，然后进行调试</strong> </p>\n<h4>Vscode调试</h4>\n<p>launch.json</p>\n<p>参考：<a href=\"https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/\">https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/</a> </p>\n<deckgo-highlight-code language=\"json\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">{\n  &quot;name&quot;: &quot;调试 Node.js 程序&quot;,\n  &quot;type&quot;: &quot;node&quot;,\n  &quot;request&quot;: &quot;launch&quot;,  //launsh | attach\n  // request，必填项，有两种类型，分别是 launch 和 attach，前者的意思就是 VSCode 会打开这个程序然后进入调试，后者的意思是你已经打开了程序，然后接通 Node.js 的内部调试协议进行调试\n  \n  &quot;program&quot;: &quot;${workspaceFolder}/src/index.js&quot; //程序的启动入口；\n  \n  /*\n  除了使用program字段指定程序入口，\n  还可以使用runtimeExecutable 和 args 启动程序\n  &quot;runtimeExecutable&quot;: &quot;node&quot;,  使用什么命令启动\n  &quot;args&quot;: [  启动时的参数\n    &quot;${workspaceFolder}/src/index.js&quot;\n  ]\n  */\n}</code>\n        </deckgo-highlight-code>\n<p>launch.json</p>\n<deckgo-highlight-code  terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">{\n  &quot;type&quot;: &quot;node&quot;,\n  &quot;request&quot;: &quot;launch&quot;,\n  &quot;runtimeExecutable&quot;: &quot;node&quot;,\n  &quot;runtimeArgs&quot;: [\n    &quot;-r&quot;,\n    &quot;ts-node/register&quot;\n  ],\n  &quot;args&quot;: [\n    &quot;${workspaceFolder}/src/index.ts&quot;\n  ]\n}</code>\n        </deckgo-highlight-code>\n<p><code>runtimeArgs</code> 是为 <code>runtimeExecutable</code> 环境提供的配置，而 args 是为程序提供的配置。这个 JSON 的意思是：通过 node 来启动 <code>/src/index.ts</code>，在启动时为 node 注入一个 <code>ts-node/register</code> 模块，以便可以执行 ts 类型的文件。实际执行代码为：<code>node --inspect-brk=DEBUG_PORT -r ts-node/register ./src/index.ts</code> </p>\n<h6>属性解释</h6>\n<ul>\n<li><code>${workspaceFolder}</code> ：给出工作区文件夹的根路径</li>\n<li><code>${file}</code>在活动编辑器中打开的文件</li>\n</ul>\n<h4>配置</h4>\n<h5><a href=\"https://code.visualstudio.com/api/references/theme-color\">Theme Color</a></h5>\n<h4><a href=\"https://wiki.beisen-inc.com/pages/viewpage.action?pageId=230067462\">ios调试</a></h4>\n<ul>\n<li><a href=\"https://mp.weixin.qq.com/s/6pYUMtf_7fM_1Zg7qrNIAA\">使用Safari进行UIWebView的调试</a> </li>\n</ul>\n<hr>\n<h4>Android &#x26; Chrome调试移动端页面</h4>\n<p><strong>思路</strong></p>\n<p>调试App中的H5页面时，首先要让App访问的资源从远程服务器转向本地，然后将手机与电脑通过数据线连接，使用Chrome的提供的<code>chrome://inspect/#devices</code>工具进行调试。调试步骤如下：</p>\n<ol>\n<li>打开手机上的\"usb调试\"选项，打开该选项后，当手机与电脑相连后才能在Chrome的<code>chrome://inspect/#devices</code>页面上查看到当前设备</li>\n<li>\n<p>手机上安装需要调试的App的<strong>调试包</strong>，打开App内的H5页面后就能在Chrome上看到对应的页面路径\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 615px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVQoz21S6W7jIBj0+79cfm2dbt3UN+awMYddicOzgjTeROpIIwQffDDDFNNEQciEVSkkcM7Rdj2U0njgOI6Tv+G5XhBCIKU8N3ezh1QG1m5Q2kAbgxBirsUYQSnFOI5omgbDMMB7/9K0UErBOXfedp08+LxA6xXzPEMIAWvNz6GIqqpwuVxwLctcP2I8GyYU1loYY+B9yAtMBRBuMQkLwg0GpkGYgtQO3se8N73Sbtt/yU/SC5MlhbOozTe4vHNev7Eah80Bcj/gXo1D9B5HCHc+JKeG6ZWJyY+JUvR9j4lOqJsGapXYZ4Gtb+FngcAYXNfBVZ/wbYtAJvhhwPHjZaG1PhsmLzkXYFzg9lVjXiR020HXNcTtCxshLxJ/Q7Hv+4tkImbUAwGTa+bAOOi6ouMC4yLRDyPqpgWZKIRy8OHIV6Q/yZIffuTlEECvJWhZYqk+8kj/vIG+lVje/2L5vGGRMmc2pWPV93jZ7a5w2zYUz4FNEeiqHt1Hi/q9wVjVWLsOKnmkNfw4wjMGTwjcSPLcpSwyjpg+KUb8A0/zANsDHprKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20200726215312347\"\n        title=\"image-20200726215312347\"\n        src=\"/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png\"\n        srcset=\"/static/13ed2d391bc428b831ed074afbd07e26/772e8/image-20200726215312347.png 200w,\n/static/13ed2d391bc428b831ed074afbd07e26/e17e5/image-20200726215312347.png 400w,\n/static/13ed2d391bc428b831ed074afbd07e26/f6b72/image-20200726215312347.png 615w\"\n        sizes=\"(max-width: 615px) 100vw, 615px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> </p>\n<ul>\n<li>上图中首页路径为<code>file://android_asset/xxx/index.html</code>，<code>file</code>协议说明打开的是手机内的本地页面，如果打开的远程页面则显示如下：\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 758px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVElEQVQI122LOw6AMAxDuf8xmZhQ4pBUKm2NCJ8BMVhP/k0WG81AVRAAFaCZ0d1TEfH6UkoS90ZVKSKZP7tpXsBVrqN7JGvd2Xtnay35p7P79mMMHua5m5Lg890XAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20200726215731560\"\n        title=\"image-20200726215731560\"\n        src=\"/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png\"\n        srcset=\"/static/7518a50391402bc7b5355dcf15ebbc50/772e8/image-20200726215731560.png 200w,\n/static/7518a50391402bc7b5355dcf15ebbc50/e17e5/image-20200726215731560.png 400w,\n/static/7518a50391402bc7b5355dcf15ebbc50/c8e86/image-20200726215731560.png 758w\"\n        sizes=\"(max-width: 758px) 100vw, 758px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> </li>\n</ul>\n</li>\n</ol>\n<p>本地页面和远程页面的调试方式不同，以下分别介绍：</p>\n<ul>\n<li>\n<p><strong>调试远程页面</strong>：远程页面包含的html、js等资源是在本地开发完成后部署到远程服务器上，手机也是访问远程服务器上的资源，所以不需要使用手机进行真机调试，不用将手机与电脑相连，调试步骤如下：</p>\n<ul>\n<li>本地运行项目代码，比如：<code>npm run start</code>，该命令通常会运行一个webpack服务器(或者其他服务器)，\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARklEQVQI1wXBWw6AIAxFQSKVR+QqaSD9Yf/bPM4kaVBrQxJrLSKC3jtzTvbenHNwd6SXejvFJpYfLAvLg3x1WgmKfaSU+AGR8RbKhLhY2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20200726222056765\"\n        title=\"image-20200726222056765\"\n        src=\"/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png\"\n        srcset=\"/static/365300bddf290fb51fbbfb5ba2a654e8/772e8/image-20200726222056765.png 200w,\n/static/365300bddf290fb51fbbfb5ba2a654e8/e17e5/image-20200726222056765.png 400w,\n/static/365300bddf290fb51fbbfb5ba2a654e8/4ee7f/image-20200726222056765.png 486w\"\n        sizes=\"(max-width: 486px) 100vw, 486px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> </li>\n</ul>\n<p>比如现在这个项目运行在本地的3000端口，在浏览器中通过<code>http://0.0.0.0:3000/</code>、<code>http://127.0.0.1:3000/</code>和<code>http://localhost:3000/</code>都能访问到该项目。（<a href=\"https://juejin.im/post/5d258b6ae51d454f73356dcf\"><code>0.0.0.0</code>、<code>127.0.0.1</code>和<code>localhost</code>之间的区别</a>） 。</p>\n<ul>\n<li>项目中如果有请求远程服务器上的数据时，通过<code>localhost:3000</code>和ip地址作为url访问项目存在跨域问题，所以需要配置nginx进行代理，步骤如下：</li>\n<li>在本地电脑上安装并运行nginx(nginx是一款服务器)，安装成功后在终端输入<code>nginx -v</code>会显示nginx 的版本。</li>\n<li>修改nginx配置文件，该配置文件一般在<code>/usr/local/etc/nginx/nginx.conf</code> ，找不到的话可以在终端输入<code>find / -name 'nginx.config'</code> 查找文件位置。</li>\n<li>\n<p>nginx的详细配置见<a href=\"https://zhuanlan.zhihu.com/p/31202053%EF%BC%8C%E6%AD%A4%E5%A4%84%E5%8F%AA%E5%AF%B9%E7%94%A8%E5%88%B0%E7%9A%84%E5%87%A0%E4%B8%AA%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E\">https://zhuanlan.zhihu.com/p/31202053，此处只对用到的几个字段说明</a></p>\n<deckgo-highlight-code  terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">server {\n  server_name abc.link; // 不能随便取，为了能解决跨域，需要填写指定的名字\n  listen 80;\n  root /xxx/xxx;\n\n  location / {\n      proxy_pass http://127.0.0.1:3000/;\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>上述是一个nginx.config文件中的一个server区块，nginx配置文件中的一个server区块表示一个虚拟服务器，配置文件中可以包含多个server块。<code>server_name abc.link;</code> 表示这个虚拟服务器的名字是<code>abc.link</code>，我们在浏览器中输入url时其中的域名部分就是<code>abc.link</code>；<code>listen 80;</code>表示服务器监听的80端口，所以在url中的端口就是80(可省略)，<code>root</code>指定了项目所在根目录，<code>location</code>对应url中的路径部分，<code>proxy_pass</code>表示代理到<code>http://127.0.0.1:3000/</code>地址。</p>\n<p>总结：上述配置的效果就是，当我们在浏览器中输入<code>http://abc.link/</code> 时，浏览器实际访问的是<code>http://127.0.0.1:3000</code>，该地址就是执行<code>npm run start</code>时开启的本地项目所在地址。</p>\n</li>\n<li>在浏览器中输入url时，浏览器会根据对url中的域名进行解析得到域名对应的服务器ip地址，然后才能访问服务器上的资料。因为nginx服务器运行在本地电脑上，所以要让abc.link指向本机的ip(127.0.0.1)。所以设置SwitchHost为：<code>127.0.0.1 abc.link</code>。</li>\n</ul>\n</li>\n<li>\n<p><strong>调试本地页面</strong> </p>\n<ul>\n<li>本地页面随App一起安装到手机，不需要网络也能访问，本地页面的路径如：<code>file://xxx/xxx</code>，</li>\n<li>调试本地页面需要将手机和电脑相连，然后对手机进行代理，把手机访问的资源指向电脑本地资源路径，步骤如下：</li>\n<li>运行Charles，手机和电脑在同一个局域网下，连接同一个WiFi。进入Proxy--->Proxy Settings设置代理，</li>\n<li>修改手机网络，设置代理，'服务器主机名'填写电脑IP地址，端口与Charles设置的端口一致，</li>\n<li>\n<p>配置nginx，指定电脑上项目所在路径</p>\n<deckgo-highlight-code  terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">server {\n   server_name appdebug.italent.link;\n\t\tlisten       80;\n   \n   # talent-core\n   location /new-italent-app {\n       add_header Cache-Control &quot;no-cache, no-store, must-revalidate&quot;;\n       \n       # new-italent-app的父级目录：\n       root /Users/beisen/workspace/beisen/italent-app;\n       autoindex on;\n   }\n}</code>\n        </deckgo-highlight-code>\n</li>\n<li>手机安装调试包，进入App，然后在<code>chrome://inspect/#devices</code>页面上就能看到手机上当前页面的路径，点击inspect就能开始调试本地页面了。</li>\n</ul>\n</li>\n</ul>","id":"dbec23f6-46c7-5475-8f74-4295e85e54f9","parent":{"__typename":"File","name":"前端调试","base":"前端调试.md","mtime":"2022-03-30T03:05:54.616Z","sourceInstanceName":"markdown"}}},"pageContext":{"articlePath":"/articles/前端/前端调试/"}},"staticQueryHashes":["3957182205"]}