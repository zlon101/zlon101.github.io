{"componentChunkName":"component---src-templates-post-js","path":"/articles/跨平台开发/","result":{"data":{"markdownRemark":{"fields":{"articlePath":"/articles/跨平台开发/"},"html":"<h1>各种运行环境</h1>\n<p>不同运行环境下的 JavaScript</p>\n<ul>\n<li>浏览器：ECMAScript + DOM + BOM</li>\n<li>NodeJS：ECMAScript  + Native(fs、http) + NPM</li>\n<li>小程序：ECMAScript + 小程序框架 + 小程序API</li>\n</ul>\n<h2>UI 渲染技术</h2>\n<p>一般来说，渲染界面的技术有三种：(1)：纯客户端原生渲染；(2)：纯 web 技术渲染；(3)：混合开发 Hybrid 技术。</p>\n<p>比如微信 JS-SDK 使用浏览器内核渲染，React Native 在渲染底层是用客户端原生渲染的。</p>\n<h1>uni-app</h1>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f9507bce4eaa64ddd39500b92778adbb/807a0/uni-app.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQ4y4WTyY7jNhRF9f+fkVV+oBdZB+g0GkgPqSq7XLKtebYoDpJISrZPYFUvepPOAw4eQeAe3AUZ3O93/ovr7cpjPhz/4Lfn37fz7X7jV5mA/5l1WdkXb/y1+0TXdFvoVxOs64p1Duc9F9HTNC3TZPF+wfmFSSn6vKBvB5SUeOdYvKMbe8q6wowjy7rgF8fDFVytww8SKwZU3SL7CmNajG6ZZ4ExJXX1Sm9KtPM00jCMFiVaRFEw9pKh1fS1ZNKW4OpmrLyguopllPhVMEwZzXBmvrZ0NuZQfCG5vFDNmrO40NiJZVKMfY0ZeuKk5HRKEUIRDIsimlNSVxLbnHjOiaeMo44I1Znnes+fu48b34snTjomlGdCHZG4gsQW5EtF6gvEOvwktDnJDx7CR/DBeUx47UOeqh1nk3DSEWcTEY/xe2Z+5+G4ePEuPM/pdrm1m7Ot2Zs8cRDHrenfyTc+Hj5xECEHGfMiK55lRWgeBbKtxCZcBIFzA8YkTFPONL4zmnTboj9xOn0ljv/5wTf6yxGpMoTMkCrBmAZjPFo5rF0JtifQ1NRlQVMV2y6yhPh8pCoyBhUjZEgvj/S6R1nDOCvu+gLmws1oFg1ewXWGwPo7Udbzdip5eU14eonYHTKedwllrRE2p1J7uulEMztSbWlGy3WQ+K5jERrTe3TnsGYhWN1ClZaUaUFXNrRNjdSCaR6xfqIejhySzxRiz7lt+XqKyfsBU1Vkux2m6UjCkv33I/JiCO52RsQRU1WB1tixpqr3jGOGdSXKpQw+Qq0Zr1nGl2OEsAtdFFG87rmqkWlYGeqZq+MhtNRhSBWGrEJgZEmSPZNlL5gxR7qEyxQibEQ9TeRmpp89S99zG8QmdOqOU7BMt3fhkGXIouCuNLNpabsjSuc436JdzmBjBpsiHv/dXxHWgzGgFTcz4/RDeGO1d/4FKbptmil9b9IAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image-20230316145552108\" title=\"image-20230316145552108\" src=\"/static/f9507bce4eaa64ddd39500b92778adbb/5a190/uni-app.png\" srcset=\"/static/f9507bce4eaa64ddd39500b92778adbb/772e8/uni-app.png 200w,\n/static/f9507bce4eaa64ddd39500b92778adbb/e17e5/uni-app.png 400w,\n/static/f9507bce4eaa64ddd39500b92778adbb/5a190/uni-app.png 800w,\n/static/f9507bce4eaa64ddd39500b92778adbb/c1b63/uni-app.png 1200w,\n/static/f9507bce4eaa64ddd39500b92778adbb/29007/uni-app.png 1600w,\n/static/f9507bce4eaa64ddd39500b92778adbb/807a0/uni-app.png 1652w\" sizes=\"(max-width: 800px) 100vw, 800px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span> \n<h2>环境</h2>\n<ul>\n<li>IDE：HBuilderX</li>\n<li>兼容平台：微信/支付宝/百度/头条/QQ/快手/钉钉/淘宝）小程序、快应用、H5、Android App、iOS App</li>\n</ul>\n<blockquote>\n<p>编译器和运行时</p>\n</blockquote>\n<ul>\n<li>\n<p>uni-app分编译器和运行时（runtime）。uni-app能实现一套代码、多端运行，是通过这2部分配合完成的。</p>\n</li>\n<li>\n<p>runtime不是运行在电脑开发环境，而是运行在真正的终端上。</p>\n</li>\n<li>\n<p>编译器内置在HBuilderX工具中，也可以使用独立的cli版。编译器将开发者的代码进行编译，编译的输出物由各个终端的runtime进行解析，每个平台（Web、Android App、iOS App、各家小程序）都有各自的runtime。</p>\n</li>\n<li>\n<p><a href=\"https://zh.uniapp.dcloud.io/tutorial/#%E8%BF%90%E8%A1%8C%E6%97%B6-runtime\">各端运行时</a></p>\n</li>\n</ul>\n<blockquote>\n<p>JS 引擎 &#x26; 渲染引擎</p>\n</blockquote>\n<p>在web平台，逻辑层（js）和渲染层（html、css），都运行在统一的webview里。</p>\n<p>但在小程序和app端，逻辑层和渲染层被分离了。</p>\n<p>不管小程序还是app，逻辑层都独立为了单独的js引擎，渲染层仍然是webview（app上也支持纯原生渲染）。</p>\n<p>所以注意小程序和app的逻辑层都不支持浏览器专用的window、dom等API。app只能在渲染层操作window、dom，即<a href=\"https://zh.uniapp.dcloud.io/tutorial/renderjs\">renderjs</a>。</p>\n<p>关于逻辑层和渲染层分离带来的注意事项，请<a href=\"https://uniapp.dcloud.net.cn/tutorial/performance.html\">详读</a></p>\n<blockquote>\n<p>UI</p>\n</blockquote>\n<p>uni-app 有 vue 页面和 nvue 页面。vue 页面是 webview 渲染的，nvue 只针对打包为 App 端并且app 端的 nvue 页面是原生渲染的。</p>\n<p>为支持跨平台，框架建议使用 Flex 布局</p>\n<blockquote>\n<p>JS</p>\n</blockquote>\n<p>uni-app的js代码，h5端运行于浏览器中。非h5端（包含小程序和App），Android平台运行在v8引擎中，iOS平台运行在iOS自带的jscore引擎中，都没有运行在浏览器或 webview里。</p>\n<p>非H5端，虽然不支持window、document、navigator等浏览器的js API，但也支持标准ECMAScript。</p>\n<blockquote>\n<p>vue</p>\n</blockquote>\n<ul>\n<li>uni-app 新增了应用和页面的生命周期</li>\n<li>发布到 H5 时支持所有vue的语法</li>\n</ul>\n<h2>特点</h2>\n<ol>\n<li>组件、api 与微信小程序一致</li>\n<li>兼容 weex 原生渲染</li>\n<li>内嵌 mpvue 框架</li>\n<li>支持通过 npm 安装第三方包</li>\n<li>支持微信小程序自定义组件及 SDK</li>\n<li>兼容 mpvue 组件及项目</li>\n<li>App 端支持和原生混合编码，还支持原生渲染的<a href=\"https://zh.uniapp.dcloud.io/tutorial/nvue-outline\">nvue</a>，以及可以编译为kotlin和swift的<a href=\"https://zh.uniapp.dcloud.io/tutorial/syntax-uts\">uts</a>。</li>\n</ol>\n<p>在跨端的同时，通过条件编译+平台特有API调用，可以优雅的为某平台写个性化代码，调用专有能力而不影响其他平台。</p>\n<p>支持原生代码混写和原生sdk集成。</p>\n<h2>语法</h2>\n<p>vue、js、css、native vue</p>\n<p>什么是tabBar 页面</p>\n<blockquote>\n<p>页面间通信</p>\n</blockquote>\n<p>uni.$emit、 uni.$on 、 uni.$once 、uni.$off 触发的事件都是 App 全局级别的，跨任意组件，页面，nvue，vue 等</p>\n<ul>\n<li>uni.$emit(eventName,OBJECT)</li>\n<li>uni.$once(eventName,callback)</li>\n<li>uni.$off：移除监听器</li>\n</ul>\n<h3>全局变量</h3>\n<p>uni</p>\n<h2>注意事项</h2>\n<p>与普通 web 开发不同的地方：</p>\n<ol>\n<li>像素单位由 px 改为 upx</li>\n<li><code>background-image</code> 只能使用公网的图像</li>\n<li></li>\n</ol>\n<h2>uts</h2>\n<p>uni type script，强类型编程语言</p>\n<h1>React Native</h1>\n<p>跨 Android 和 IOS App 开发</p>\n<p>使用用 Web 相关技术来编写，同样是利用了 JavaScript 解释执行的特性，但 RN 在渲染底层是用客户端原生渲染的。</p>\n<p>react-native就是基于Virtual DOM渲染出原生控件。</p>\n<h1>Flutter</h1>\n<h1><a href=\"https://tauri.app/\">Tauri</a></h1>\n<p><a href=\"https://mp.weixin.qq.com/s/sMVS6xTv6qrcQp1o7uZOjQ\">https://mp.weixin.qq.com/s/sMVS6xTv6qrcQp1o7uZOjQ</a></p>\n<h1>Weex</h1>\n<p>vue 技术</p>\n<h1>taro</h1>\n<p>京东</p>\n<h1><a href=\"https://dev.weixin.qq.com/docs/\">Donut</a></h1>\n<p>Donut 多端框架是支持使用小程序原生语法开发移动应用的框架，开发者可以一次编码，分别编译为小程序和 Android 以及 iOS 应用，实现多端开发</p>","id":"53bd1df5-7d36-5052-892f-c2f12826486a","parent":{"name":"跨平台开发","base":"跨平台开发.md","mtime":"2023-06-29T08:22:10.000Z","sourceInstanceName":"markdown"}}},"pageContext":{"articlePath":"/articles/跨平台开发/"}},"staticQueryHashes":["3957182205"]}